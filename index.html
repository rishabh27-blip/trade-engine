<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="theme-color" content="#0f172a">

<title>Trade Decision Engine</title>

<link rel="manifest" href="./manifest.json">
<link rel="icon" href="./icon-192.png">
<link rel="stylesheet" href="styles.css">
</head>

<body>

<div class="container">
    <h1>ðŸ“Š Trade Decision Engine</h1>

    <!-- INSTALL -->
    <div id="installPrompt" style="display:none;">
        <button id="installBtn">ðŸ“± Install App</button>
    </div>

    <!-- INPUT -->
    <div class="box">
        <h2>Trade Inputs</h2>

        <input id="buy" placeholder="Buy Price">
        <input id="sell" placeholder="Sell Price">
        <input id="qty" placeholder="Quantity">
        <input id="transport" placeholder="Transport Cost">
        <input id="broker" placeholder="Broker Cost">
        <input id="days" placeholder="Holding Days">
        <input id="vol" placeholder="Volatility (â‚¹/kg/day)">
        <input id="rel" placeholder="Reliability (1-5)">

        <button onclick="evaluateTrade()">ðŸŽ¯ Evaluate</button>
        <button onclick="clearForm()">ðŸ”„ Clear</button>

        <div id="output"></div>
    </div>

    <!-- STATS -->
    <div id="stats"></div>

    <!-- HISTORY -->
    <div id="history"></div>

    <!-- ACTIONS -->
    <div class="actions">
        <button onclick="saveTrade()">ðŸ’¾ Save Trade</button>
        <button onclick="exportData()">ðŸ“¤ Export</button>
    </div>
</div>

<script src="app.js"></script>

<script>
let deferredPrompt;

window.addEventListener('beforeinstallprompt', (e) => {
    e.preventDefault();
    deferredPrompt = e;
    document.getElementById('installPrompt').style.display = 'block';
});

document.getElementById('installBtn').onclick = async () => {
    if (deferredPrompt) {
        deferredPrompt.prompt();
        await deferredPrompt.userChoice;
        deferredPrompt = null;
    }
};

if ('serviceWorker' in navigator) {
    navigator.serviceWorker.register('./service-worker.js');
}
</script>

</body>
</html>
